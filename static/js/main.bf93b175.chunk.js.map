{"version":3,"sources":["components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","components/ImageGallery/ImageGallery.module.css","components/Loader/Loader.module.css","App.module.css","components/Modal/Modal.js","components/Searchbar/Searchbar.js","components/Button/Button.js","components/ImageGallery/ImageGallery.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Loader/Loader.js","services/PixaBayView.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","modalRoot","document","querySelector","Modal","handleKeyDown","e","code","props","onClose","handleBackdropClick","target","currentTarget","window","addEventListener","this","removeEventListener","largeImgUrl","createPortal","className","s","Overlay","onClick","src","alt","React","Component","Searchbar","state","query","handleChange","setState","value","toLowerCase","handleSubmit","preventDefault","trim","onSubmit","alert","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","onChange","autoFocus","placeholder","Button","loadMore","ImageGallery","children","ImageGalleryItem","hit","setLargeImg","webformatURL","tags","ImageGalleryItemImage","MyLoader","FallbackContainer","color","height","width","timeout","fetchPagesList","searchQuery","currentPage","perPage","axios","get","then","response","data","hits","App","isLoading","error","selectedImg","onChangeQuery","showModal","fetchPages","options","prevState","catch","finally","scrollTo","top","documentElement","scrollHeight","behavior","image","largeImageURL","toggleModal","prevProps","shouldRenderLoadMoreButton","length","map","id","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.bf93b175.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__6zWmx\",\"Modal\":\"Modal_Modal__3q74p\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__jeXw_\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__fWbxK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__QQQ4C\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__Rz24I\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"FallbackContainer\":\"Loader_FallbackContainer__3y91q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__QlDqS\"};","import React from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport s from './Modal.module.css'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default class Modal extends React.Component {\r\n    static propTypes = {\r\n        onClose: PropTypes.func.isRequired,\r\n        largeImgUrl: PropTypes.string.isRequired,\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.addEventListener('keydown', this.handleKeyDown)\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('keydown', this.handleKeyDown)\r\n    }\r\n\r\n    handleKeyDown = e => {\r\n        if (e.code === 'Escape') {\r\n            this.props.onClose();\r\n        }\r\n    }\r\n\r\n    handleBackdropClick = e => {\r\n        if (e.target === e.currentTarget) {\r\n            this.props.onClose();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { largeImgUrl } = this.props;\r\n\r\n        return createPortal(\r\n            <div className={s.Overlay} onClick={this.handleBackdropClick}>\r\n                <div className={s.Modal}>\r\n                    <img src={largeImgUrl} alt='Gallery item' />\r\n                </div>\r\n            </div>,\r\n            modalRoot,\r\n        );\r\n    }\r\n}","import React from 'react'\r\n\r\nimport PropTypes from 'prop-types'\r\nimport s from './Searchbar.module.css'\r\n\r\nexport default class Searchbar extends React.Component {\r\n    state = {\r\n        query: ''\r\n    };\r\n\r\n    static propTypes = {\r\n    onSubmit: PropTypes.func.isRequired,\r\n    };\r\n\r\n    handleChange = e => {\r\n        this.setState({ query: e.currentTarget.value.toLowerCase() })\r\n    };\r\n\r\n    handleSubmit = e => {\r\n        e.preventDefault();\r\n\r\n        if (this.state.query.trim() === '') {\r\n            alert('Please enter a valid name')\r\n            return;\r\n        }\r\n\r\n        this.props.onSubmit(this.state.query);\r\n        this.setState({ query: ''})\r\n    }\r\n\r\n    render() {\r\n        return (\r\n         <header className={s.Searchbar}>\r\n            <form className={s.SearchForm} onSubmit={this.handleSubmit}>\r\n                <button type=\"submit\" className={s.SearchFormButton}>\r\n                    <span className={s.SearchFormButtonLabel}></span>\r\n                </button>\r\n\r\n                <input\r\n                 className={s.SearchFormInput}\r\n                 type=\"text\"\r\n                 autoComplete=\"off\"\r\n                 value={this.state.query}\r\n                 onChange={this.handleChange}\r\n                 autoFocus\r\n                 placeholder=\"Search images and photos\"\r\n                />\r\n            </form>\r\n         </header>\r\n        )\r\n    }\r\n}","import React from 'react'\r\nimport PropTypes from 'prop-types';\r\nimport s from './Button.module.css'\r\n\r\nconst Button = ({ loadMore }) => {\r\n  return (\r\n    <button type=\"button\" className={s.Button} onClick={loadMore}>\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  loadMore: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;","import React from 'react'\r\nimport s from './ImageGallery.module.css'\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ImageGallery = ({ children }) => {\r\n  return <ul className={s.ImageGallery}>{children}</ul>;\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  children: PropTypes.node,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React from 'react'\r\nimport s from './ImageGalleryItem.module.css'\r\nimport PropTypes from 'prop-types'\r\n\r\n\r\nconst ImageGalleryItem = ({ hit, setLargeImg }) => {\r\n  const { webformatURL, tags } = hit;\r\n\r\n  return (\r\n    <li className={s.ImageGalleryItem} onClick={() => setLargeImg(hit)}>\r\n      <img src={webformatURL} alt={tags} className={s.ImageGalleryItemImage} />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  hit: PropTypes.shape({\r\n    webformatURL: PropTypes.string.isRequired,\r\n    tags: PropTypes.string.isRequired,\r\n  }).isRequired,\r\n  setLargeImg: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;","import Loader from 'react-loader-spinner'\r\nimport React, { Component } from 'react'\r\nimport s from './Loader.module.css';\r\n\r\nexport default class MyLoader extends Component {\r\n     render() {\r\n        return (\r\n            <Loader\r\n             className={s.FallbackContainer}\r\n             type=\"Puff\"\r\n             color=\"#00BFFF\"\r\n             height={100}\r\n             width={100}\r\n             timeout={3000}\r\n            />\r\n        );\r\n    }\r\n}","import axios from \"axios\";\r\n\r\nconst API_KEY = '23479864-16575353206961163feee44f8';\r\nconst BASE_URL = 'https://pixabay.com/api/';\r\n\r\nfunction fetchPagesList({ searchQuery = '', currentPage = 1, perPage = 12 }) {\r\n  return axios\r\n    .get(\r\n      `${BASE_URL}?q=${searchQuery}&page=${currentPage}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=${perPage}`,\r\n    )\r\n    .then(response => response.data.hits)\r\n  \r\n}\r\nexport { fetchPagesList };\r\n","import React from 'react';\n\nimport Modal from 'components/Modal';\nimport Searchbar from 'components/Searchbar';\nimport Button from 'components/Button';\nimport ImageGallery from 'components/ImageGallery';\nimport ImageGalleryItem from 'components/ImageGalleryItem';\nimport MyLoader from 'components/Loader/Loader';\n\nimport { fetchPagesList } from 'services/PixaBayView';\n\nimport s from './App.module.css';\n\nclass App extends React.Component {\n  state = {\n    hits: [],\n    currentPage: 1,\n    searchQuery: '',\n    isLoading: false,\n    error: null,\n    selectedImg: '',\n\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchPages()\n    }\n   }\n\n  onChangeQuery = query => {\n    this.setState({\n      searchQuery: query,\n      currentPage: 1,\n      hits: [],\n      error: null,\n      selectedImg: '',\n      showModal: false,\n    });\n  };\n  \n  fetchPages = () => {\n    const { currentPage, searchQuery } = this.state;\n\n    const options = {\n      searchQuery,\n      currentPage,\n    };\n\n    this.setState({ isLoading: true });\n\n    fetchPagesList(options)\n      .then(hits => {\n        this.setState(prevState => ({\n          hits: [...prevState.hits, ...hits],\n          currentPage: prevState.currentPage + 1,\n        }));\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => {\n        this.setState({ isLoading: false });\n\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: \"smooth\",\n        });\n      });\n  };\n  \n  setLargeImg = image => {\n    this.setState({ selectedImg: image.largeImageURL });\n    this.toggleModal();\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal\n    }))\n  }\n\n  render() {\n    const { hits, isLoading, error, showModal, selectedImg } = this.state;\n    const shouldRenderLoadMoreButton = hits.length > 0 && !isLoading;\n    \n    return (\n      <div className={s.App}>\n        { error && <h1>Oops</h1>}\n        <Searchbar onSubmit={this.onChangeQuery} />\n\n        <ImageGallery>\n          {hits.map(hit => (\n            <ImageGalleryItem\n              key={hit.id}\n              hit={hit}\n              setLargeImg={this.setLargeImg}\n            />\n          ))}\n        </ImageGallery>\n\n        {isLoading && <MyLoader />}\n\n        {shouldRenderLoadMoreButton && <Button loadMore={this.fetchPages} />}\n        \n        {showModal && <Modal largeImgUrl={selectedImg} onClose={this.toggleModal} />}\n      </div>\n    )\n   }\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2HWZL\",\"SearchForm\":\"Searchbar_SearchForm__3jz13\",\"SearchFormButton\":\"Searchbar_SearchFormButton__L79ED\",\"SearchForm-button\":\"Searchbar_SearchForm-button__1RVoZ\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__1U9SF\",\"SearchFormInput\":\"Searchbar_SearchFormInput__qGmcG\"};"],"sourceRoot":""}